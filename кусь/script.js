const { choose, smartJoin } = flow.get('func', 'memory');

const from = [
    '–≤—ã–ø—Ä—ã–≥–∏–≤–∞–µ—Ç –∏–∑-–∑–∞ —É–≥–ª–∞',
    '–Ω–∞–ø–∞–¥–∞–µ—Ç –∏–∑ –∫—É—Å—Ç–æ–≤',
    '–≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –ø–æ–¥–≤–∞–ª–∞',
    '–∑–∞–ø—Ä—ã–≥–∏–≤–∞–µ—Ç –≤ —Ñ–æ—Ä—Ç–æ—á–∫—É',
    '–≤—ã–ª–µ–∑–∞–µ—Ç –∏–∑ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏',
    '–≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –≥–æ—Ä—è—â–µ–≥–æ —Ç–∞–Ω–∫–∞',
    '–≤—ã—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è –∏–∑ —à–∫–∞—Ñ–∞',
    '–ø—Ä–æ–ª–µ–∑–∞–µ—Ç —Å–∫–≤–æ–∑—å —Ç–µ–∫—Å—Ç—É—Ä—ã',
    '–≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –ö–ë',
    '–≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑ –Ω–∏–æ—Ç–∫—É–¥–∞',
    '—Ç–∏—Ö–æ –∫—Ä–æ–¥—ë—Ç—å—Å—è',
    '–≤–ª–µ—Ç–∞–µ—Ç —Å –¥–≤—É—Ö –Ω–æ–≥',
    '–≤—ã–ø–æ–ª–∑–∞–µ—Ç –∏–∑ –ø–æ–¥ –∫—Ä–æ–≤–∞—Ç–∏',
    '–≤—ã—Å–∫–∞–∫–∏–≤–∞–µ—Ç –∏–∑ —Ç–µ–Ω–∏',
    '–≤—ã–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑ –ø–æ–¥–æ–¥–µ—è–ª—å–Ω–∏–∫–∞',
    '–≤—Å–∫–∞–∫–∏–≤–∞–µ—Ç –Ω–∞ –∫–æ–Ω—è'
];

const what = [
    '–∑–∞ ASS gachiBASS',
    '–∑–∞ –∂–æ–ø—É gachiHYPER',
    '–∑–∞ –û—Ä–¥—É SMOrc',
    '–∑–∞ –≥–ª–∞–∑ WutFace',
    '–∑–∞ –±—Ä–æ–≤—å monkaWipe',
    '–∑–∞ –ø—è—Ç–∫—É ariW',
    '–∑–∞ ICQ Aptisha',
    '–∑–∞ —Å–æ—Å–æ–∫ BSUHey',
    '–∑–∞ –ª—è–∂–∫—É PepeLaugh',
    '–∑–∞ —Ç—ã—â—É, BSUDAI',
    '–∑–∞ –Ω–æ—Å dead5What',
    '–∑–∞ –ø–∞–ª–µ—Ü BSUTrolled',
    '–∑–∞ —Å–µ–±—è –∏ –∑–∞ –°–∞—à–∫—É BSURage',
    '–∑–∞ –ª—é–±–æ–≤—å FeelsLoveMan',
    '–∑–∞ –º–æ–Ω–æ–ª–∏—Ç –≤ –∫–æ–Ω—Ü–µ-—Ç–æ –∫–æ–Ω—Ü–æ–≤ gachiBASS',
    '–∑–∞ —É—à–∫–æ Kappa',
    '–∑–∞ –±–æ—á–æ–∫ üê∫',
    '–∑–∞ –ø–æ–¥–º—ã—à–∫—É DansGame',
    '–∑–∞ –ø–∏–ø—É PETTHEPEEPO',
    '–∑–∞ –∫—É–∫—É—Å–∏–∫–∏ NomNom',
    '–∑–∞ —à–æ–∫–æ–ª–∞–¥–Ω—ã–µ –∫—É–∫–∏—Å—ã NomNom',
    '–∑–∞ –±–æ—Ä—â ANYA',
    '–∑–∞ –º–µ–≥–∞–º–∞–∫–∏ gachiHYPER',
    '–∑–∞ –±–æ–¥—É–Ω–≥–µ—Ä, –±–æ–Ω–≥–µ—Ä-–±–æ–Ω–≥–µ—Ä Pepega',
    '–∑–∞ —Å—Ç—Ä–∏–º–µ—Ä–∞ PETTHEAPTEEPO',
    '–∑–∞ –ø–æ–ø–æ–ª–∑–Ω—è popCat',
    '–∑–∞ –ö—Ç—É–ª—Ö—É Squid1 Squid3 Squid4',
    '–∑–∞ –ö–∞–ø–∏—Ç–∞–Ω–∞ –ö—É—Ä–∏—Ü—É MonkaChiken',
    '–∑–∞ –®–ê–ê–ê–† OMEGALUL',
    '–∑–∞ —à–µ—é VAMPPE',
    '–∑–∞ –æ–∫—Ä–æ—à–∫—É Tastge',
    '–∑–∞ —Ö—É—Ä–º—É Tastge',
    '–∑–∞ –∞–º–æ–≥—É—Å–∞ ‡∂û'
];

const how = [
    '–∫–∞–∫–∏–º-—Ç–æ –æ–±—Ä–∞–∑–æ–º',
    '–∏–∑–ø–æ–¥–≤—ã–ø–æ–¥–≤–µ—Ä—Ç–∞'
];

const mentions = msg.parsed.mentions_list;
const user = msg.payload.userstate.username;

if (mentions.length == 0) {
    msg.reply = `/me ${choose(from)}`;
} else {
    msg.reply = `@${user} ${choose(from)}`;
}

if (msg.parsed.command == '–∫—É—Å—Ç') {
    msg.reply += `, –æ–¥–Ω–∞–∫–æ —Å–ø–æ—Ç—ã–∫–∞–µ—Ç—Å—è –æ –∫—É—Å—Ç`;

    if (mentions.length == 0) {
        msg.reply += `, –ø—Ä–æ–º–∞—Ö–∏–≤–∞–µ—Ç—Å—è –º–∏–º–æ @${user}`;
    }
    
    msg.reply += ` –∏ –∫—É—Å–∞–µ—Ç —Å–µ–±—è`;
} else {
    msg.reply += ' –∏';

    if (mentions.length > 1) {
        msg.reply += ` ${choose(how)} –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ`;
    }

    msg.reply += ' –∫—É—Å–∞–µ—Ç ';

    if (mentions.length > 0) {
        msg.reply += smartJoin(mentions.map((user) => `@${user}`));
    } else {
        msg.reply += `@${user}`;
    }
}

if (mentions.length == 1 & mentions[0] == 'my4hoe') {
    msg.reply += ' –∑–∞ –º—É—á–Ω–æ–µ NomNom';
} else {
    msg.reply += ` ${choose(what)}`;
}

return msg;
