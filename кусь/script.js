const { choose, smartJoin } = flow.get('func', 'memory');

const from = [
    'Ğ²Ñ‹Ğ¿Ñ€Ñ‹Ğ³Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ·-Ğ·Ğ° ÑƒĞ³Ğ»Ğ°',
    'Ğ½Ğ°Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚ Ğ¸Ğ· ĞºÑƒÑÑ‚Ğ¾Ğ²',
    'Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ÑÑ Ğ¸Ğ· Ğ¿Ğ¾Ğ´Ğ²Ğ°Ğ»Ğ°',
    'Ğ·Ğ°Ğ¿Ñ€Ñ‹Ğ³Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ² Ñ„Ğ¾Ñ€Ñ‚Ğ¾Ñ‡ĞºÑƒ',
    'Ğ²Ñ‹Ğ»ĞµĞ·Ğ°ĞµÑ‚ Ğ¸Ğ· Ğ²ĞµĞ½Ñ‚Ğ¸Ğ»ÑÑ†Ğ¸Ğ¸',
    'Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ÑÑ Ğ¸Ğ· Ğ³Ğ¾Ñ€ÑÑ‰ĞµĞ³Ğ¾ Ñ‚Ğ°Ğ½ĞºĞ°',
    'Ğ²Ñ‹ÑĞ¾Ğ²Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¸Ğ· ÑˆĞºĞ°Ñ„Ğ°',
    'Ğ¿Ñ€Ğ¾Ğ»ĞµĞ·Ğ°ĞµÑ‚ ÑĞºĞ²Ğ¾Ğ·ÑŒ Ñ‚ĞµĞºÑÑ‚ÑƒÑ€Ñ‹',
    'Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¸Ğ· ĞšĞ‘',
    'Ğ²Ğ¾Ğ·Ğ½Ğ¸ĞºĞ°ĞµÑ‚ Ğ¸Ğ· Ğ½Ğ¸Ğ¾Ñ‚ĞºÑƒĞ´Ğ°',
    'Ñ‚Ğ¸Ñ…Ğ¾ ĞºÑ€Ğ¾Ğ´Ñ‘Ñ‚ÑŒÑÑ',
    'Ğ²Ğ»ĞµÑ‚Ğ°ĞµÑ‚ Ñ Ğ´Ğ²ÑƒÑ… Ğ½Ğ¾Ğ³',
    'Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ·Ğ°ĞµÑ‚ Ğ¸Ğ· Ğ¿Ğ¾Ğ´ ĞºÑ€Ğ¾Ğ²Ğ°Ñ‚Ğ¸',
    'Ğ²Ñ‹ÑĞºĞ°ĞºĞ¸Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ· Ñ‚ĞµĞ½Ğ¸',
    'Ğ²Ñ‹Ğ²Ğ°Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¸Ğ· Ğ¿Ğ¾Ğ´Ğ¾Ğ´ĞµÑĞ»ÑŒĞ½Ğ¸ĞºĞ°',
    'Ğ²ÑĞºĞ°ĞºĞ¸Ğ²Ğ°ĞµÑ‚ Ğ½Ğ° ĞºĞ¾Ğ½Ñ'
];

const what = [
    'Ğ·Ğ° ASS gachiBASS',
    'Ğ·Ğ° Ğ¶Ğ¾Ğ¿Ñƒ gachiHYPER',
    'Ğ·Ğ° ĞÑ€Ğ´Ñƒ SMOrc',
    'Ğ·Ğ° Ğ³Ğ»Ğ°Ğ· WutFace',
    'Ğ·Ğ° Ğ±Ñ€Ğ¾Ğ²ÑŒ monkaWipe',
    'Ğ·Ğ° Ğ¿ÑÑ‚ĞºÑƒ ariW',
    'Ğ·Ğ° ICQ Aptisha',
    'Ğ·Ğ° ÑĞ¾ÑĞ¾Ğº BSUHey',
    'Ğ·Ğ° Ğ»ÑĞ¶ĞºÑƒ PepeLaugh',
    'Ğ·Ğ° Ñ‚Ñ‹Ñ‰Ñƒ, BSUDAI',
    'Ğ·Ğ° Ğ½Ğ¾Ñ dead5What',
    'Ğ·Ğ° Ğ¿Ğ°Ğ»ĞµÑ† BSUTrolled',
    'Ğ·Ğ° ÑĞµĞ±Ñ Ğ¸ Ğ·Ğ° Ğ¡Ğ°ÑˆĞºÑƒ BSURage',
    'Ğ·Ğ° Ğ»ÑĞ±Ğ¾Ğ²ÑŒ FeelsLoveMan',
    'Ğ·Ğ° Ğ¼Ğ¾Ğ½Ğ¾Ğ»Ğ¸Ñ‚ Ğ² ĞºĞ¾Ğ½Ñ†Ğµ-Ñ‚Ğ¾ ĞºĞ¾Ğ½Ñ†Ğ¾Ğ² gachiBASS',
    'Ğ·Ğ° ÑƒÑˆĞºĞ¾ Kappa',
    'Ğ·Ğ° Ğ±Ğ¾Ñ‡Ğ¾Ğº ğŸº',
    'Ğ·Ğ° Ğ¿Ğ¾Ğ´Ğ¼Ñ‹ÑˆĞºÑƒ DansGame',
    'Ğ·Ğ° Ğ¿Ğ¸Ğ¿Ñƒ PETTHEPEEPO',
    'Ğ·Ğ° ĞºÑƒĞºÑƒÑĞ¸ĞºĞ¸ NomNom',
    'Ğ·Ğ° ÑˆĞ¾ĞºĞ¾Ğ»Ğ°Ğ´Ğ½Ñ‹Ğµ ĞºÑƒĞºĞ¸ÑÑ‹ NomNom',
    'Ğ·Ğ° Ğ±Ğ¾Ñ€Ñ‰ ANYA',
    'Ğ·Ğ° Ğ¼ĞµĞ³Ğ°Ğ¼Ğ°ĞºĞ¸ gachiHYPER',
    'Ğ·Ğ° Ğ±Ğ¾Ğ´ÑƒĞ½Ğ³ĞµÑ€, Ğ±Ğ¾Ğ½Ğ³ĞµÑ€-Ğ±Ğ¾Ğ½Ğ³ĞµÑ€ Pepega',
    'Ğ·Ğ° ÑÑ‚Ñ€Ğ¸Ğ¼ĞµÑ€Ğ° PETTHEAPTEEPO',
    'Ğ·Ğ° Ğ¿Ğ¾Ğ¿Ğ¾Ğ»Ğ·Ğ½Ñ popCat',
    'Ğ·Ğ° ĞšÑ‚ÑƒĞ»Ñ…Ñƒ Squid1 Squid3 Squid4',
    'Ğ·Ğ° ĞšĞ°Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ° ĞšÑƒÑ€Ğ¸Ñ†Ñƒ MonkaChiken',
    'Ğ·Ğ° Ğ¨ĞĞĞĞ  OMEGALUL',
    'Ğ·Ğ° ÑˆĞµÑ VAMPPE',
    'Ğ·Ğ° Ğ¾ĞºÑ€Ğ¾ÑˆĞºÑƒ Tastge',
    'Ğ·Ğ° Ñ…ÑƒÑ€Ğ¼Ñƒ Tastge',
    'Ğ·Ğ° Ğ°Ğ¼Ğ¾Ğ³ÑƒÑĞ° à¶'
];

const how = [
    'ĞºĞ°ĞºĞ¸Ğ¼-Ñ‚Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ¼',
    'Ğ¸Ğ·Ğ¿Ğ¾Ğ´Ğ²Ñ‹Ğ¿Ğ¾Ğ´Ğ²ĞµÑ€Ñ‚Ğ°'
];

const mentions = msg.parsed.mentions_list;
const user = msg.payload.userstate.username;

if (mentions.length == 0) {
    msg.reply = `/me ${choose(from)}`;
} else {
    msg.reply = `@${user} ${choose(from)}`;
}

if (msg.parsed.command == 'ĞºÑƒÑÑ‚') {
    msg.reply += `, Ğ¾Ğ´Ğ½Ğ°ĞºĞ¾ ÑĞ¿Ğ¾Ñ‚Ñ‹ĞºĞ°ĞµÑ‚ÑÑ Ğ¾ ĞºÑƒÑÑ‚`;

    if (mentions.length == 0) {
        msg.reply += `, Ğ¿Ñ€Ğ¾Ğ¼Ğ°Ñ…Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¼Ğ¸Ğ¼Ğ¾ @${user}`;
    }
    
    msg.reply += ` Ğ¸ ĞºÑƒÑĞ°ĞµÑ‚ ÑĞµĞ±Ñ`;
} else {
    msg.reply += ' Ğ¸';

    if (mentions.length > 1) {
        msg.reply += ` ${choose(how)}`
    }

    msg.reply += ' ĞºÑƒÑĞ°ĞµÑ‚ ';

    if (mentions.length > 0) {
        msg.reply += smartJoin(mentions.map((user) => `@${user}`));
    } else {
        msg.reply += `@${user}`;
    }
}

msg.reply += ` ${choose(what)}`;

return msg;
