(

$positive := [
    'Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ð¾ Ð´Ð° YEPPERS',
    'Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð±Ñ‹Ñ‚ÑŒ ÑƒÐ²ÐµÑ€ÐµÐ½ Ð² ÑÑ‚Ð¾Ð¼ YEPPERS',
    'Ð½Ð¸ÐºÐ°ÐºÐ¸Ñ… ÑÐ¾Ð¼Ð½ÐµÐ½Ð¸Ð¹ YEPPERS',
    'Ð°Ð±ÑÐ¾Ð»ÑŽÑ‚Ð»Ð¸ YEPPERS',
    'Ð½Ñƒ ÐµÑÑ‚ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾ YEPPERS',
    'Ð´Ð° YEPPERS'
];

$plausible := [
    'Ñ…Ð¾Ñ€Ð¾ÑˆÐ¸Ðµ ÑˆÐ°Ð½ÑÑ‹ SeemsGood',
    'Ð²ÐµÑ€Ð¾ÑÑ‚Ð½ÐµÐµ Ð²ÑÐµÐ³Ð¾ SeemsGood',
    'Ð´ÑƒÐ¼Ð°ÑŽ, Ñ‡Ñ‚Ð¾ Ð´Ð° SeemsGood',
    'Ð½Ðµ Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾ SeemsGood',
    'Ð½ÐµÐ¼Ð°Ð»Ð¾Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ SeemsGood'
];

$uncertain := [
    'Ð¿Ð¾ÐºÐ° Ð½Ðµ ÑÑÐ½Ð¾ peepoThink',
    'Ð½Ðµ ÑƒÐ²ÐµÑ€ÐµÐ½ peepoThink',
    'Ñ‚ÑƒÑ‚ Ð²ÑÑ‘ Ð½Ðµ Ñ‚Ð°Ðº Ð¾Ð´Ð½Ð¾Ð·Ð½Ð°Ñ‡Ð½Ð¾ peepoThink',
    'ÑÐºÐ°Ð¶Ñƒ Ð·Ð° Ð½ÐµÐ±Ð¾Ð»ÑŒÑˆÑƒÑŽ ÑÑƒÐ¼Ð¼Ñƒ, BSUDAI',
    'Ð½Ðµ ÑÑ‚Ð¾Ð¸Ñ‚ Ð²ÑÐºÑ€Ñ‹Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ‚ÐµÐ¼Ñƒ. Ð’Ñ‹ Ð¼Ð¾Ð»Ð¾Ð´Ñ‹Ðµ, ÑˆÑƒÑ‚Ð»Ð¸Ð²Ñ‹Ðµ, Ð²Ð°Ð¼ Ð²ÑÐµ Ð»ÐµÐ³ÐºÐ¾. Ð­Ñ‚Ð¾ Ð½Ðµ Ñ‚Ð¾. ÐŸÐ¾Ð³Ð¸Ð±Ð½ÑƒÑ‚ Ð’Ð¡Ð monkaGunshake'
];

$unplausible := [
    'Ð´Ð° Ð½ÐµÑ‚, Ð½Ð°Ð²ÐµÑ€Ð½Ð¾Ðµ BSUHee',
    'ÑˆÐ°Ð½ÑÑ‹ Ð½Ðµ Ð¾Ñ‡ÐµÐ½ÑŒ BSUHee',
    'ÑÐºÐ¾Ñ€ÐµÐµ Ð½ÐµÑ‚, Ñ‡ÐµÐ¼ Ð´Ð° BSUHee',
    'Ñ Ð±Ñ‹ Ð½Ðµ Ð½Ð°Ð´ÐµÑÐ»ÑÑ BSUHee'
];

$negative := [
    'Ð´Ð°Ð¶Ðµ Ð½Ðµ Ð½Ð°Ð´ÐµÐ¹ÑÑ NOPERS',
    'Ð²ÐµÑÑŒÐ¼Ð° ÑÐ¾Ð¼Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ NOPERS',
    'Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ð¾ Ð½ÐµÑ‚ NOPERS',
    'Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ ÐšÐ ÐÐ™ÐÐ• Ð¼Ð°Ð»Ð° NOPERS',
    'Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° Ð² Ð¶Ð¸Ð·Ð½Ð¸ NOPERS',
    'Ð½ÐµÑ‚, Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð½ÐµÑ‚ NOPERS'
];

$choose := function ($l) {(
    $id := $floor($random() * $count($l));
    $l[$id]
)};

(parsed.query ~> $length = 0) ? (
    'Ñ‡Ñ‚' & (
        $match(payload.message, /!Ñˆ+([Ð°Ð¾]+)Ñ€+/i).groups[0]
        ~> $replace('Ð°', 'o') ~> $replace('Ð', 'O')
        ~> $replace('Ð¾', 'Ð°') ~> $replace('Ðž', 'Ð')
        ~> $replace('o', 'Ð¾') ~> $replace('O', 'Ðž')
    ) & '? Jebaited'
) :
(parsed.query ~> $match(/ (Ð¸Ð»Ð¸|or) /)) ? (
    $options := parsed.query
        ~> $substringBefore('?') ~> $replace(/ (Ð¸Ð»Ð¸|or) /, ', ')
        ~> $split(',') ~> $map(function ($i) { $trim($i) });

    ($count($options) = 2 and 'Ð½Ðµ ' & $options[0] = $options[1]) ? 'Ð²Ð¾Ñ‚ Ð² Ñ‡Ñ‘Ð¼ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Kojimaptyp' :
    ($count($options) = 2 and 'not ' & $options[0] = $options[1]) ? 'that is the question Kojimaptyp' :
    ($count($options) = 2 and $options[0] = $options[1]) ? 'Ð´Ð° YEPPERS' :
    (
        $option := $choose($options);
        
        $choose([
            'ÑÐºÐ¾Ñ€ÐµÐµ Ð²ÑÐµÐ³Ð¾ ' & $option & ' peepoThink',
            'Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ð¾ ' & $option & ' YEPPERS',
            $option & ' â€” Ð½Ð°Ñˆ Ð²Ñ‹Ð±Ð¾Ñ€ SeemsGood'
        ])
    )
) :
(parsed.query ~> $match(/Ð¾Ñ‚ [+-]?[0-9]+ Ð´Ð¾ [+-]?[0-9]+/)) ? (
    $range := (parsed.query_filtered ~> $match(/Ð¾Ñ‚ ([+-]?[0-9]+) Ð´Ð¾ ([+-]?[0-9]+)/)).groups
        ~> $map(function ($v) { $number($v ~> $replace(/\+/, '')) }) ~> $sort;
    
    $choice := $floor($random() * ($range[1] - $range[0] + 1) + $range[0]);
    
    $choose([
        'Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ð¾ ' & $choice & ' YEPPERS',
        'ÑÐºÐ¾Ñ€ÐµÐµ Ð²ÑÐµÐ³Ð¾ ' & $choice & ' peepoThink',
        $choice & ' â€” Ð½Ð°Ñˆ Ð²Ñ‹Ð±Ð¾Ñ€ SeemsGood'
    ])
) :
(parsed.query_filtered ~> $match(/^[aÐ°]+\.*$/i)) ? (
    $choose([
        '...Ð½Ñ ANYA',
        '...Ð»Ð»Ð¾ ANYA',
        '...Ð´Ð°, Ñ Ð»ÑŽÐ±Ð»ÑŽ Ñ‚ÐµÐ±Ñ ANYA',
        '...Ñ‹Ð°Ñ‹Ð° ANYA',
        '...ÑƒÑ„ ðŸº',
        '...Ð¿Ñ‡Ñ…Ð¸ ANYA',
        '...ÑÑ AYAYA',
        '...Ð³Ð° YEPPERS',
        '...ss gachiBASS'
    ])
) :
(parsed.query_filtered ~> $match(/^Ð¿Ð¸Ð½Ð³/i)) ? (
    "Ð¿Ð¾Ð½Ð³ Pepega"
) :
(parsed.query_filtered ~> $match(/^ÐºÑƒ\.*$/i)) ? (
    $choose([
        '...Ð»Ñ-Ð±ÑƒÐ»Ñ ANYA',
        '...Ð»ÑÐ»Ñ ANYA',
        '...ÐºÑƒ, Ð¸Ð¿Ñ‚Ð° ANYA',
        '...ÐºÑƒÑÐ¸ÐºÐ¸ NomNom'
    ])
) :
(parsed.query ~> $match(/^Ð¼Ð¾Ð¶ÐµÑ‚ Ñ‡Ð°Ð¹ÐºÑƒ/)) ? 'Ð° Ð¼Ð¾Ð¶ÐµÑ‚ Ñ‚ÐµÐ±Ñ?! Jebaited' :
(parsed.query ~> $match(/^Ñ‚Ñ‹ Ð¿Ð¾Ñ‚Ñ€ÑÑÐ°ÑŽÑ‰Ð¸Ð¹/)) ? 'Ð½ÐµÑ‚, Ñ‚Ñ‹ Ð¿Ð¾Ñ‚Ñ€ÑÑÐ°ÑŽÑ‰Ð¸Ð¹! keanU' :
(parsed.query ~> $match(/^[UO][wÏ‰v][UO]$/i)) ? $choose(['UÏ‰U', 'Ã²Ï‰Ã³', 'OÏ‰O', 'à² _à² ']) :
(parsed.query ~> $match(/^(PETTHE|(Ð½Ðµ )?Ð¿Ð¸Ð¿(Ð°Ð¹|Ð½Ð¸|\ |$))/)) ? 'Ð¿Ð¸Ð¿ ' & $choose([
    'PETTHEPEEPO',
    'PETTHEAPTEEPO',
    'PETTHECAT',
    'PETTHEEVAN',
    'PETTHEMOD'
]) :
(
    $choose([
        $choose($positive),
        $choose($plausible),
        $choose($uncertain),
        $choose($unplausible),
        $choose($negative)
    ])
)

)
